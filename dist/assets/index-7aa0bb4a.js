import{r as u,a as k,R as L}from"./vendor-b1791c80.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))l(t);new MutationObserver(t=>{for(const a of t)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&l(r)}).observe(document,{childList:!0,subtree:!0});function h(t){const a={};return t.integrity&&(a.integrity=t.integrity),t.referrerPolicy&&(a.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?a.credentials="include":t.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function l(t){if(t.ep)return;t.ep=!0;const a=h(t);fetch(t.href,a)}})();var v={exports:{}},g={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O=u,C=Symbol.for("react.element"),A=Symbol.for("react.fragment"),E=Object.prototype.hasOwnProperty,I=O.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,R={key:!0,ref:!0,__self:!0,__source:!0};function S(i,o,h){var l,t={},a=null,r=null;h!==void 0&&(a=""+h),o.key!==void 0&&(a=""+o.key),o.ref!==void 0&&(r=o.ref);for(l in o)E.call(o,l)&&!R.hasOwnProperty(l)&&(t[l]=o[l]);if(i&&i.defaultProps)for(l in o=i.defaultProps,o)t[l]===void 0&&(t[l]=o[l]);return{$$typeof:C,type:i,key:a,ref:r,props:t,_owner:I.current}}g.Fragment=A;g.jsx=S;g.jsxs=S;v.exports=g;var e=v.exports,y={},j=k;y.createRoot=j.createRoot,y.hydrateRoot=j.hydrateRoot;function $(){const[i,o]=u.useState(null),[h,l]=u.useState(!0),[t,a]=u.useState({}),[r,m]=u.useState({email:"",password:"",firstName:"",lastName:""});u.useState(!1);const[x,d]=u.useState(""),p={}.VITE_API_BASE_URL||"",f="/.netlify/functions";u.useEffect(()=>{N(),b()},[]);const N=async()=>{const s=localStorage.getItem("six_perfections_token");if(!s){l(!1);return}try{const n=await fetch(`${p}${f}/auth?action=me`,{headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}});if(n.ok){const c=await n.json();o(c.user)}else localStorage.removeItem("six_perfections_token")}catch(n){console.error("Auth check failed:",n),localStorage.removeItem("six_perfections_token")}l(!1)},b=async()=>{try{const n=await(await fetch(`${p}${f}/health`)).json();a(n)}catch(s){console.error("Health check failed:",s),a({status:"error",message:"Unable to connect to server"})}},_=async s=>{s.preventDefault(),d("");try{const n=await fetch(`${p}${f}/auth?action=login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r.email,password:r.password})}),c=await n.json();n.ok?(localStorage.setItem("six_perfections_token",c.token),o(c.user),d("ЁЯЩП Login successful! Welcome to the Six Perfections journey.")):d(`Login failed: ${c.message||c.error}`)}catch(n){console.error("Login error:",n),d("Login failed. Please try again.")}},P=async s=>{s.preventDefault(),d("");try{const n=await fetch(`${p}${f}/auth?action=register`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r.email,password:r.password,firstName:r.firstName,lastName:r.lastName,spiritualLevel:"beginner",languagePreference:"en"})}),c=await n.json();n.ok?(localStorage.setItem("six_perfections_token",c.token),o(c.user),d("ЁЯОЙ Registration successful! Your spiritual journey begins now.")):d(`Registration failed: ${c.message||c.error}`)}catch(n){console.error("Registration error:",n),d("Registration failed. Please try again.")}},w=async()=>{try{const s=localStorage.getItem("six_perfections_token");s&&await fetch(`${p}${f}/auth?action=logout`,{method:"POST",headers:{Authorization:`Bearer ${s}`,"Content-Type":"application/json"}}),localStorage.removeItem("six_perfections_token"),o(null),d("ЁЯЩП Logged out successfully. May your practice continue.")}catch(s){console.error("Logout error:",s),localStorage.removeItem("six_perfections_token"),o(null)}};return h?e.jsxs("div",{className:"loading",children:[e.jsx("h2",{children:"ЁЯЩП Loading Six Perfections Assessment..."}),e.jsx("p",{children:"реР рдордгрд┐ рдкрджреНрдореЗ рд╣реВрдБ"})]}):e.jsxs("div",{className:"app",children:[e.jsxs("header",{className:"header",children:[e.jsx("h1",{children:"ЁЯЩП рд╖рдЯреНрдкрд╛рд░рдорд┐рддрд╛"}),e.jsx("h2",{children:"Six Perfections Assessment"}),e.jsx("p",{children:"Pure JSON Architecture - Blessed by Diamond Mind ЁЯТО"}),e.jsxs("div",{className:`health-status ${t.status==="healthy"?"healthy":"unhealthy"}`,children:[e.jsxs("span",{children:["API: ",t.status||"checking..."]}),t.json_storage&&e.jsxs("span",{children:["JSON Storage: ",t.json_storage.status]})]})]}),e.jsxs("main",{className:"main",children:[i?e.jsxs("div",{className:"dashboard",children:[e.jsxs("div",{className:"user-info",children:[e.jsxs("h3",{children:["ЁЯЩП Welcome, ",i.firstName||i.email,"!"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Email:"})," ",i.email]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Spiritual Level:"})," ",i.spiritualLevel]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Language:"})," ",i.languagePreference]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Joined:"})," ",new Date(i.joinedAt).toLocaleDateString()]}),e.jsx("button",{onClick:w,className:"logout-btn",children:"Sign Out ЁЯЩП"})]}),e.jsxs("div",{className:"paramitas-section",children:[e.jsx("h3",{children:"Six Perfections Progress (рд╖рдЯреНрдкрд╛рд░рдорд┐рддрд╛):"}),e.jsx("div",{className:"paramitas-grid",children:[{id:"dana",name:"рджрд╛рди",english:"Generosity",tibetan:"р╜жр╛жр╛▒р╜▓р╜Ур╝Лр╜Фр╝Л",color:"#4CAF50"},{id:"sila",name:"рд╢реАрд▓",english:"Ethics",tibetan:"р╜Ър╜┤р╜гр╝Лр╜Бр╛▓р╜▓р╜Шр╜жр╝Л",color:"#2196F3"},{id:"ksanti",name:"рдХреНрд╖рд╛рдиреНрддрд┐",english:"Patience",tibetan:"р╜Цр╜Яр╜╝р╜Ср╝Лр╜Фр╝Л",color:"#FF9800"},{id:"virya",name:"рд╡реАрд░реНрдп",english:"Energy",tibetan:"р╜Цр╜вр╛йр╜╝р╜Ур╝Лр╜ар╜Вр╛▓р╜┤р╜жр╝Л",color:"#F44336"},{id:"dhyana",name:"рдзреНрдпрд╛рди",english:"Meditation",tibetan:"р╜Цр╜жр╜Шр╝Лр╜Вр╜Пр╜Ур╝Л",color:"#9C27B0"},{id:"prajna",name:"рдкреНрд░рдЬреНрдЮрд╛",english:"Wisdom",tibetan:"р╜др╜║р╜жр╝Лр╜вр╜Цр╝Л",color:"#FFD700"}].map(s=>{var n,c;return e.jsxs("div",{className:"paramita-card",style:{borderLeftColor:s.color},children:[e.jsx("h4",{children:s.name}),e.jsx("h5",{children:s.english}),e.jsx("p",{style:{fontSize:"0.9rem",opacity:.7},children:s.tibetan}),e.jsx("div",{className:"progress-bar",children:e.jsx("div",{className:"progress-fill",style:{width:`${((n=i.paramitaProgress)==null?void 0:n[s.id])||0}%`,backgroundColor:s.color}})}),e.jsxs("span",{style:{fontSize:"0.8rem",marginTop:"0.5rem",display:"block"},children:[((c=i.paramitaProgress)==null?void 0:c[s.id])||0,"% Complete"]})]},s.id)})})]}),e.jsxs("div",{className:"actions",style:{marginTop:"2rem",display:"flex",gap:"1rem",justifyContent:"center",flexWrap:"wrap"},children:[e.jsx("button",{className:"action-btn primary",children:"ЁЯУЭ Take Assessment"}),e.jsx("button",{className:"action-btn secondary",children:"ЁЯУК View Progress"}),e.jsx("button",{className:"action-btn secondary",children:"ЁЯзШтАНтЩАя╕П Daily Practice"}),e.jsx("button",{className:"action-btn secondary",children:"ЁЯУЪ Study Content"})]})]}):e.jsx("div",{className:"auth-container",children:e.jsxs("div",{className:"auth-forms",children:[e.jsxs("div",{className:"auth-form",children:[e.jsx("h3",{children:"Continue Your Path"}),e.jsxs("form",{onSubmit:_,children:[e.jsx("input",{type:"email",placeholder:"Email",value:r.email,onChange:s=>m({...r,email:s.target.value}),required:!0}),e.jsx("input",{type:"password",placeholder:"Password",value:r.password,onChange:s=>m({...r,password:s.target.value}),required:!0}),e.jsx("button",{type:"submit",children:"Sign In ЁЯЩП"})]})]}),e.jsxs("div",{className:"auth-form",children:[e.jsx("h3",{children:"Begin Your Journey"}),e.jsxs("form",{onSubmit:P,children:[e.jsx("input",{type:"text",placeholder:"First Name",value:r.firstName,onChange:s=>m({...r,firstName:s.target.value}),required:!0}),e.jsx("input",{type:"text",placeholder:"Last Name",value:r.lastName,onChange:s=>m({...r,lastName:s.target.value}),required:!0}),e.jsx("input",{type:"email",placeholder:"Email",value:r.email,onChange:s=>m({...r,email:s.target.value}),required:!0}),e.jsx("input",{type:"password",placeholder:"Password",value:r.password,onChange:s=>m({...r,password:s.target.value}),required:!0}),e.jsx("button",{type:"submit",children:"Register ЁЯМ▒"})]})]})]})}),x&&e.jsx("div",{className:`message ${x.includes("successful")?"success":"error"}`,children:e.jsx("p",{children:x})})]}),e.jsxs("footer",{className:"footer",children:[e.jsx("p",{children:"ЁЯЩП реР рдЧрддреЗ рдЧрддреЗ рдкрд╛рд░рдЧрддреЗ рдкрд╛рд░рд╕рдВрдЧрддреЗ рдмреЛрдзрд┐ рд╕реНрд╡рд╛рд╣рд╛"}),e.jsx("p",{children:"May all beings cross to the other shore of enlightenment"})]})]})}console.log("ЁЯЩП рд╖рдЯреНрдкрд╛рд░рдорд┐рддрд╛ - Six Perfections Assessment");console.log("ЁЯУ┐ реР рдЧрддреЗ рдЧрддреЗ рдкрд╛рд░рдЧрддреЗ рдкрд╛рд░рд╕рдВрдЧрддреЗ рдмреЛрдзрд┐ рд╕реНрд╡рд╛рд╣рд╛");console.log("ЁЯМ╕ May all beings benefit from this spiritual technology");y.createRoot(document.getElementById("root")).render(e.jsx(L.StrictMode,{children:e.jsx($,{})}));
